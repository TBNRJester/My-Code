<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    </head>
    <body>
        <a-scene>
            <a-assets>
        <!-- Primary URL you gave -->
        <!--<audio id="sharingan-audio" crossorigin="anonymous"
               src="https://github.com/TBNRJester/Sharingan/raw/refs/heads/main/Sharingan.mp3">-->
        </audio>

        <!-- Alternate (often more CORS-friendly) raw.githubusercontent.com style:
             Uncomment this line and comment the line above if you get CORS errors.-->
        <audio id="sharingan-audio" crossorigin="anonymous"
               src="https://raw.githubusercontent.com/TBNRJester/Sharingan/main/Sharingan.mp3"></audio>
      </a-assets>
            <a-entity id="soundEntity"
                sound="src: #sharingan-audio; autoplay: false; loop: false; positional: true; volume: 10"
                position="0 3 -7">
      </a-entity>
        <a-sky color="#1b1a39"></a-sky>
        <a-camera>
        <a-cursor fuse="true" fuse-timeout="1000"></a-cursor>
        </a-camera>
        <a-ring id="ring" radius-outer="3.5" radius-inner="2" color="white" position="0 3 -7"
        animation="
        property: color;
        from: rgb(255, 255, 255);
        to: rgb(0, 0, 0);
        dur: 2000;
        startEvents: go
        "
        ></a-ring>
        <a-circle id="speaker" color="black" radius="2" position="0 3 -7"
        animation="
        property: color;
        from: rgb(0, 0, 0);
        to: rgb(255, 0, 0);
        dur: 2000;
        startEvents: go
        "
        ></a-circle>
        <a-dodecahedron color="black" radius=".2" position="0 4.5 -7"></a-dodecahedron>
        <a-dodecahedron color="black" radius=".2" position="-1.2 2.3 -7"></a-dodecahedron>
        <a-dodecahedron color="black" radius=".2" position="1.2 2.3 -7"></a-dodecahedron>
        <script>
      const circle = document.querySelector('#speaker');
      const ring = document.querySelector('#ring');

      // When the user looks at the circle (fuse) or hovers, trigger both animations
      speaker.addEventListener('click', () => {
        speaker.emit('go');  // animate the circle
        ring.emit('go');    // animate the ring
      });

      // Optional: immediate trigger on hover
      speaker.addEventListener('mouseenter', () => {
        speaker.emit('go');
        ring.emit('go');
      });
      // Many browsers require a user gesture to start audio. We'll start on first user click.
      const soundEntity = document.querySelector('#soundEntity');

      function tryPlay() {
        // start playing via the sound component API
        if (!soundEntity.components.sound.isPlaying) {
          soundEntity.components.sound.playSound();
        }
        // remove the listener after first gesture
        window.removeEventListener('click', tryPlay);
        window.removeEventListener('touchstart', tryPlay);
      }

      window.addEventListener('click', tryPlay);
      window.addEventListener('touchstart', tryPlay);
      document.querySelector('#speaker').addEventListener('click', () => {
  soundEntity.components.sound.playSound();
});
    </script>
        </a-scene>
    </body>
</html>
